!function(){var n,t=335,e="isg",r=self,i=!!r.addEventListener,o=document.getElementsByTagName("head")[0],u=navigator.userAgent,a={"alicdn.com":1,"aliimg.com":1,"alimama.cn":1,"alimmdn.com":1,"alipay.com":1,"alivecdn.com":1,"aliyun.com":1,"aliyuncs.com":1,"amap.com":1,"autonavi.com":1,"cnzz.com":1,"greencompute.org":1,"linezing.com":1,"mmcdn.cn":1,"mmstat.com":1,"sm.cn":1,"soku.com":1,"tanx.com":1,"taobaocdn.com":1,"tbcache.com":1,"tbcdn.cn":1,"tudou.com":1,"uczzd.cn":1,"umeng.com":1,"wrating.com":1,"xiami.net":1,"xiaoshuo1-sm.com":1,"ykimg.com":1,"youku.com":1,"zimgs.cn":1,"cibntv.net":1,"sm-tc.cn":1},c={"afptrack.alimama.com":1,"ynuf.aliapp.org":1,"sec.taobao.com":1,"localhost.wwbizsrv.alibaba.com":1,"127.0.0.1":1,"local.alipcsec.com":1,"aldcdn.tmall.com":1,"un.alibaba-inc.com":1};!function(n){function t(){return 4294967295*Math.random()>>>0}function e(n){return/native code/.test(n+"")}function r(n){for(var t=0,e=0,r=n.length;r>e;e++)t=(t<<5)-t+n.charCodeAt(e),t>>>=0;return t}function o(n,t){var e=n.indexOf(t);return-1===e?n:n.substr(0,e)}function u(n,t){var e=n.indexOf(t);return-1===e?n:n.substr(e+t.length)}function a(n){var t=n.match(s);if(!t)return null;var e=t[1];return v.test(e)&&(e=u(e,"@"),e=o(e,":")),e}function c(n){for(var t=0,e=n.length-1;e>=0;e--){var r=0|+n[e];t=t<<1|r}return t}function f(n,t,e,r){i?n.addEventListener(t,e,r):n.attachEvent&&n.attachEvent("on"+t,function(){e(event)})}n.RandU32=t,n.IsNativeFunc=e,n.StrHash=r,n.Now=Date.now||function(){return+new Date},n.SplitLeft=o,n.SplitRight=u;var s=/^(?:https?:)?\/{2,}([^\/?#\\]+)/i,v=/[@:]/;n.GetHostname=a,n.BitConcat=c,n.EventBind=f}(n||(n={}));var f;!function(t){function e(n){A++,F=void 0!=n.isTrusted?n.isTrusted:!0,L=n.clientX,D=n.clientY}function r(n){E++}function i(n){S++}function u(n){M++}function a(){var n=screen.availWidth,t=window.outerWidth;null==t&&(t=document.documentElement.clientWidth||document.body.clientWidth),k=20>n-t}function c(n){B=!0,R=!0}function f(n){R=!1}function s(){n.EventBind(document,"mousemove",r,!0),n.EventBind(document,"touchmove",r,!0),n.EventBind(document,"click",e,!0),n.EventBind(document,"keydown",u,!0);var t="onwheel"in o?"wheel":"onmousewheel"in document?"mousewheel":"DOMMouseScroll";n.EventBind(document,t,i,{capture:!0,passive:!0}),n.EventBind(window,"focus",c),n.EventBind(window,"blur",f),n.EventBind(window,"resize",a),a(),navigator.getBattery&&(x=!0,navigator.getBattery().then(function(n){T=n})["catch"](function(n){})),n.EventBind(window,"deviceorientation",function(n){U=n.gamma})}function v(){return E}function l(){return S}function d(){return A}function m(){return M}function h(){return{X:L,Y:D,Trust:F}}function p(){var n=document.hidden;return null==n&&(n=document.mozHidden),!n}function g(){return R}function y(){return B}function w(){return k}function _(){return x}function I(){return T?T.charging:!0}function C(){return T?100*T.level:127}function b(){return null!=U}function G(){return b()?U+90:255}var k,B,T,E=0,A=0,S=0,M=0,L=0,D=0,F=!0,R=!0,x=!1,U=null;t.Init=s,t.GetMoveCount=v,t.GetWheelCount=l,t.GetClickCount=d,t.GetKeyboardCount=m,t.GetLastClick=h,t.IsVisible=p,t.IsFocus=g,t.HasFocusChanged=y,t.IsWinMax=w,t.IsBatterySupported=_,t.IsBatteryCharing=I,t.GetBatteryLevel=C,t.IsGyroSupported=b,t.GetRyroGamma=G}(f||(f={}));var s;!function(t){function e(){return"$cdc_asdjflasutopfhvcZLmcfl_"in document||navigator.webdriver}function a(){if(c())return!1;try{var n=document.createElement("canvas");return!!n.getContext("webgl")}catch(t){return!0}}function c(){return"ontouchstart"in document}function s(){var n=navigator.language||navigator.systemLanguage;return/zh-cn/i.test(n)}function v(){return-480===(new Date).getTimezoneOffset()}function l(){return!0}function d(){return f.IsGyroSupported()}function m(){return f.IsBatterySupported()}function h(){return f.IsBatteryCharing()}function p(){for(var t=0;4>t;t++)I[5+t]=b[t]();return n.BitConcat(I)}function g(){for(var n in A)if(A.hasOwnProperty(n)){var t=A[n];if(t())return+n.substr(1)}return 0}function y(n){var t=r.RTCPeerConnection||r.mozRTCPeerConnection||r.webkitRTCPeerConnection;if(!t)return void n(0);var e={optional:[{RtpDataChannels:!0}]},i={iceServers:[{urls:"stun:x"}]},o=new t(i,e);setTimeout(function(n){try{o.close()}catch(t){}},5e3),o.onicecandidate=function(t){var e=t.candidate;if(!e)return void n(0);var r=w(e.candidate);null!=r&&(n(r),o.onicecandidate=null)},o.createDataChannel(""),o.createOffer().then(function(n){o.setLocalDescription(n)})["catch"](function(t){n(0)})}function w(n){var t=/(\d+)\.(\d+)\.(\d+)\.(\d+)\D/.exec(n);if(!t)return null;var e=+t[1]<<24|+t[2]<<16|+t[3]<<8|+t[4];return e>>>0}function _(){for(var n=0;5>n;n++)I[n]=C[n]()}var I=Array(16),C=[e,a,c,s,v],b=[l,d,m,h];t.GetFeature=p;var G=navigator.vendor,k=o.style,B="chrome"in window,T="ActiveXObject"in window,E=n.IsNativeFunc(r.WeakMap),A={_13:function(){return"callPhantom"in r||/PhantomJS/i.test(u)},_14:function(){return/python/i.test(navigator.appVersion)},_15:function(){return"sgAppName"in navigator},_16:function(){return/Maxthon/i.test(G)},_17:function(){return"opr"in r},_18:function(){return B&&/BIDUBrowser/i.test(u)},_19:function(){return B&&/LBBROWSER/i.test(u)},_20:function(){return B&&/QQBrowser/.test(u)},_21:function(){return B&&/UBrowser/i.test(u)},_22:function(){return B&&/2345Explorer/.test(u)},_23:function(){return B&&/TheWorld/.test(u)},_24:function(){return B&&"MSGesture"in r},_26:function(){return"aef"in r&&/WW_IMSDK/.test(u)},_25:function(){return"aef"in r},_1:function(){return B},_2:function(){return"mozRTCIceCandidate"in r||"mozInnerScreenY"in r},_3:function(){return"safari"in r},_4:function(){return T&&!("maxHeight"in k)},_5:function(){return T&&!n.IsNativeFunc(r.postMessage)},_6:function(){return T&&!i},_7:function(){return T&&!n.IsNativeFunc(r.Uint8Array)},_8:function(){return T&&!E},_9:function(){return T&&E},_10:function(){return"Google Inc."===navigator.vendor},_11:function(){return"Apple Computer, Inc."===navigator.vendor},_12:function(){return T}};t.GetVendor=g,t.QueryLocalIP=y,t.Init=_}(s||(s={}));var v;!function(n){function t(n){var t;try{t=document.cookie}catch(e){return null}var r="; "+n+"=",i=t.indexOf(r);if(-1===i){if(r=n+"=",t.substr(0,r.length)!==r)return null;i=0}var o=i+r.length,u=t.indexOf("; ",o);return-1===u&&(u=t.length),t.substring(o,u)}function e(n,t,e,r,i){var o=n+"="+t;r&&(o+="; domain="+r),i&&(o+="; path="+i),e&&(o+="; expires="+e);try{document.cookie=o}catch(u){}}function r(n,t,r){e(n,"","Thu, 01 Jan 1970 00:00:00 GMT",t,r)}n.Get=t,n.Set=e,n.Del=r}(v||(v={}));var l;!function(n){function e(n){var e=document._sufei_log;if(null==e&&(e=.001),!(Math.random()>e)){var r=n.stack||n.message,o={code:1,msg:(r+"").substr(0,1e3),pid:"sufeidata",page:location.href.split(/[#?]/)[0],query:location.search.substr(1),hash:location.hash,referrer:document.referrer,title:document.title,ua:navigator.userAgent,rel:t};i(o,"//gm.mmstat.com/fsp.1.1?")}}function r(n,t,e){var r={url:(n||"").substr(0,2e3),token:t,cna:e};i(r,"https://fourier.alibaba.com/ts?")}function i(n,t){var e=[];for(var r in n)e.push(r+"="+encodeURIComponent(n[r]));(new Image).src=t+e.join("&")}n.Err=e,n.CorsToken=r}(l||(l={}));var d;!function(n){function t(n,t,e){switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);default:return t(e[0],e[2],e[3])}}function e(n,t){switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);default:return new n(t[0],t[2],t[3])}}function r(r,i,o){return function(){var u,a=arguments;try{u=i(a,this,r)}catch(c){u=a,l.Err(c)}if(u){if(u===n.DISCARD)return;a=u}return o?e(r,a):"apply"in r?r.apply(this,a):t(this,r,a)}}function o(n,t,e){if(!n)return!1;var i=n[t];return i?(n[t]=r(i,e,!1),!0):!1}function u(n,t,e){if(!n)return!1;var i=n[t];return i?(n[t]=r(i,e,!0),!0):!1}function a(n,t,e){if(!c)return!1;var o=c(n,t);return o&&o.set?(o.set=r(o.set,e,!1),i||(o.get=function(n){return function(){return n.call(this)}}(o.get)),Object.defineProperty(n,t,o),!0):!1}n.DISCARD=-1;var c=Object.getOwnPropertyDescriptor;n.Func=o,n.Class=u,n.Setter=a}(d||(d={}));var m,h=function(){function n(n){this._fields=n;for(var t=0,e=n.length;e>t;t++)this[t]=0}return n.prototype.ToBuffer=function(){for(var n=this._fields,t=[],e=-1,r=0,i=n.length;i>r;r++)for(var o=this[r],u=n[r],a=e+=u;t[a]=255&o,0!==--u;)--a,o>>=8;return t},n.prototype.Decode=function(n){for(var t=this._fields,e=0,r=0,i=t.length;i>r;r++){var o=t[r],u=0;do u=u<<8|n[e++];while(--o>0);this[r]=u>>>0}},n}();!function(n){function t(n){for(var t=0,e=0,r=n.length;r>e;e++)t=(t<<5)-t+n[e];return 255&t}function e(n,t,e,r,i){for(var o=n.length;o>t;)e[r++]=n[t++]^255&i,i=~(131*i)}function r(n){for(var t=[],e=n.length,r=0;e>r;){var i=n[r++]<<16|n[r++]<<8|n[r++];t.push(f.charAt(i>>18),f.charAt(i>>12&63),f.charAt(i>>6&63),f.charAt(63&i))}return t.join("")}function i(n){for(var t=[],e=0;e<n.length;e+=4){var r=s[n.charAt(e)]<<18|s[n.charAt(e+1)]<<12|s[n.charAt(e+2)]<<6|s[n.charAt(e+3)];t.push(r>>16,r>>8&255,255&r)}return t}function o(){for(var n=0;64>n;n++){var t=f.charAt(n);s[t]=n}}function u(n){var i=t(n),o=[c,i];return e(n,0,o,2,i),r(o)}function a(n){var r=i(n),o=r[1],u=[];return e(r,2,u,0,o),t(u)==o?u:void 0}var c=4,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",s={};n.Init=o,n.Pack=u,n.Unpack=a}(m||(m={}));var p;!function(n){function t(){for(var n=navigator.platform,t=0;t<e.length;t++)if(e[t].test(n))return t+1;return 0}var e=[/^Win32/,/^Win64/,/^Linux armv|Android/,/^Android/,/^iPhone/,/^iPad/,/^MacIntel/,/^Linux [ix]\d+/,/^ARM/,/^iPod/,/^BlackBerry/];n.GetID=t}(p||(p={}));var g;!function(t){function e(){return n.Now()/1e3>>>0}function r(t){if(f.Init(),s.Init(),t){var e=m.Unpack(t);e&&o.Decode(e)}o[1]=n.RandU32(),o[5]=s.GetVendor(),o[6]=p.GetID(),o[8]=n.StrHash(navigator.userAgent);try{s.QueryLocalIP(function(n){o[7]=n})}catch(r){o[7]=0}}function i(t,r){0==o[4]&&(o[4]=n.RandU32(),o[3]=e()),o[2]=e(),o[16]=s.GetFeature(),o[9]=f.GetMoveCount(),o[10]=f.GetWheelCount(),o[11]=f.GetClickCount(),o[12]=f.GetKeyboardCount(),o[17]=f.GetRyroGamma(),o[18]=f.GetBatteryLevel();var i=f.GetLastClick();o[13]=i.X,o[14]=i.Y;var a=f.IsFocus(),c=f.IsWinMax(),v=f.HasFocusChanged(),l=[r,f.IsVisible(),t,a,i.Trust,history.length>1,v,c];t&&u++,o[15]=n.BitConcat(l),o[0]=u;var d=o.ToBuffer(),h=m.Pack(d);return h}var o=new h([2,2,4,4,4,1,1,4,4,3,2,2,2,2,2,1,2,1,1,1,1]),u=0;t.Init=r,t.Update=i}(g||(g={}));var y;!function(t){function i(n,t){var e=n.split("."),r=e.length-1,i=e[r];if(i in t)return!0;for(var o=r-1;o>=0;o--)if(i=e[o]+"."+i,i in t)return!0;return!1}function o(t){w||(w=new Date(n.Now()+15552e6).toUTCString()),v.Set(e,t,w,p,"/")}function u(n){if(p=location.hostname,!I.test(p)){var t=p.split("."),r=t.length;if(1!==r){r>5&&(r=5),p=t.pop();for(var i=2;r>=i&&(p=t.pop()+"."+p,o(n),v.Get(e)!==n);i++);var u="(^|\\.)"+p.replace(/\./g,"\\.")+"$";y=new RegExp(u,"i")}}}function f(){var n=g.Update(!0);o(n),_||(_=setTimeout(function(n){_=0;var t=g.Update(!1,null);o(t)},0))}function s(n){/^\/\//.test(n)&&(n=location.protocol+n);var t=g.Update(!0),e=v.Get("cna");l.CorsToken(n,t,e)}function d(n,t){if(t)for(var e=0;e<t.length;e++)if(t[e].test(n))return!0;return!1}function m(t){var e;if(null!=t&&(t+="",e=n.GetHostname(t)),!e)return f(),!0;if(y){if(y.test(e))return f(),!0}else if(p===e)return f(),!0;if(I.test(e))return!1;var o=n.SplitLeft(t,"?"),u=r.__sufei_point_list;if(d(o,u))return s(t),!1;if(i(e,a))return!1;if(e in c)return!1;if(/\/gw-open\/|\/gw\//.test(o))return!1;var v=r.__sufei_ignore_list;return d(o,v)?!1:(s(t),!1)}function h(){var t=v.Get(e);g.Init(t),t=g.Update(!1,null),u(t),n.EventBind(window,"unload",function(n){var t=g.Update(!1,!0);o(t)})}var p,y,w,_,I=/^(\d+\.)*\d+$/;t.UpdateCookie=f,t.GenToken=m,t.Init=h}(y||(y={}));var w;!function(n){function t(){e()||(i("insertBefore"),i("appendChild"))}function e(){var n=r.HTMLScriptElement;if(!n)return!1;var t=n.prototype;return d.Func(t,"setAttribute",function(n){var t=n[0],e=n[1];/^src$/i.test(t)&&a(e)}),d.Setter(t,"src",function(n){var t=n[0];a(t)})}function i(n){var t=r.Element;t?d.Func(t.prototype,n,u):(d.Func(o,n,u),d.Func(document.body,n,u))}function u(n){var t=n[0];t&&"SCRIPT"===t.tagName&&a(t.src)}function a(n){n+="",/callback=/.test(n)&&y.GenToken(n)}n.Init=t}(w||(w={}));var _;!function(t){function e(t){return n.SplitLeft(t.href,"#")}function i(n){var t=n.target;if(!t){var e=s[0];e&&(t=e.target)}return t}function o(n){if(/^https?\:/.test(n.protocol)){var t=i(n),r=!t||/^_self$/i.test(t);if(r){var o=e(n);if(o===f&&n.hash)return}y.GenToken(n.href)}}function u(n){if(!n.defaultPrevented)for(var t=n.target||n.srcElement;t;){var e=t.tagName;if("A"===e||"AREA"===e){o(t);break}t=t.parentNode}}function a(n){var t=n.target||n.srcElement;t[v]!==l&&y.GenToken(t.action)}function c(){s=document.getElementsByTagName("base"),f=e(location),n.EventBind(document,"click",u),n.EventBind(document,"submit",a);var t=r.HTMLFormElement;t&&d.Func(t.prototype,"submit",function(n,t){var e=t;y.GenToken(e.action),e[v]=++l})}var f,s,v="__sufei_id",l=0;t.Init=c}(_||(_={}));var I;!function(t){function e(){i(),/Mobile/.test(u)&&(o(),a()||n.EventBind(document,"DOMContentLoaded",a))}function i(){d.Func(r,"fetch",function(n){var t=n[0],e=n[1];"string"==typeof t&&y.GenToken(t)&&(e=e||{},e.credentials&&"omit"!==e.credentials||(e.credentials="same-origin"),n[1]=e)})}function o(){var n=r.lib;if(n){var t=!/taobao.com$/.test(location.hostname);d.Func(n.windvane,"call",function(n){if("MtopWVPlugin"===n[0]&&"send"===n[1]){var e=n[2];if(t){var r=e.ext_headers||{};r["X-Sufei-Token"]=g.Update(!0)}else y.UpdateCookie()}})}}function a(){var n=r.jsbridge;return n&&(n=n["default"])?(d.Func(n,"pushBack",function(n){"native:"===n[0]&&y.UpdateCookie()}),!0):void 0}t.Init=e}(I||(I={}));var C;!function(n){function t(){var n=r.XMLHttpRequest;if(n){var t=n.prototype;t?e(t):i()}o()}function e(n){d.Func(n,"open",function(n,t){var e=n[1];t[u]=e}),d.Func(n,"send",function(n,t){var e=t[u];y.GenToken(e)})}function i(){d.Class(r,"XMLHttpRequest",function(){y.GenToken()})}function o(){var n=/XMLHTTP/i;d.Class(r,"ActiveXObject",function(t){var e=t[0];e&&n.test(e)&&y.GenToken()})}var u="__sufei_url";n.Init=t}(C||(C={}));var b;!function(n){function e(){m.Init(),y.Init(),_.Init(),C.Init(),I.Init(),w.Init()}function r(){if(!document[i]){document[i]=t;try{e()}catch(n){l.Err(n)}}}var i="_sufei_data2";r()}(b||(b={}))}();